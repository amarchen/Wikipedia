Name: harbour-wikipedia
Summary: Wikipedia for Sailfish OS
Version: 0.2
Release: 3
Group: Qt/Qt
License: All rights reserved
Sources:
- '%{name}-%{version}.tar.bz2'
Description: |-
  Simple Wikipedia app for Sailfish OS
Configure: none
Builder: qtc5
PkgConfigBR:
- Qt5Core
- Qt5Qml
- Qt5Quick
- sailfishapp

Requires:
- libsailfishapp

Files:
- '%{_datadir}/applications'
- '%{_datadir}/%{name}'
- '%{_datadir}/icons/hicolor/86x86/apps/%{name}.png'
- '%{_datadir}/applications/%{name}.desktop'
- '%{_bindir}/%{name}'
PkgBR: []

SubPackages:
    - Name: test
      Summary: Tests for the Wikipedia app
      Group: Qt/Qt
      Description: |-
        Tests package for the Wikipedia app
      AutoDepend: true
      PkgConfigBR:
      - Qt5QuickTest
      Requires:
      - qt5-qtdeclarative-import-qttest
      Files:
        - '%{_bindir}/tst-harbour-wikipedia'
        - '%{_datadir}/tst-harbour-wikipedia/*.qml'
        - '%{_datadir}/tst-harbour-wikipedia/*.sh'
    - Name: fake
      Summary: Collects mixpanel tests
      Group: Qt/Qt
      Description: |-
        Removes from RPM files that would cause QA scripts warnings. Including 90x90 icon that.. should never have been deployed
      AutoDepend: true
      Files:
      - '%{_datadir}/%{name}/qml/components/Mixpanel/*'
      - '%{_datadir}/%{name}/qml/components/Mixpanel/.*'
      - '%{_datadir}/icons/hicolor/90x90/apps/%{name}.png'
